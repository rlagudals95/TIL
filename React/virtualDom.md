리액트에선 virtualDom을 이용해서 렌더링 성능을 개선했다고 하는데, 어떤 내용인지 간단하게 살펴봅시다.


### 문제 (Problem)
렌더링 효율성의 한계 🚀

기존의 웹 애플리케이션에서는 전체 UI를 새로 그리는 방식으로 렌더링을 수행했습니다. 작은 부분만 변경되더라도 전체 UI를 다시 렌더링하는 데에는 비효율성이 있었습니다.

### 직접적인 DOM 조작의 난해함 💔

DOM을 직접 조작하는 것은 복잡하고 번거로웠습니다. 
특히 동적 UI 업데이트가 빈번하게 발생하는 경우 성능이 저하되기 쉬웠습니다.

<br/>
<br/>


## 해결 (Solution)

### 가상 DOM 도입 🌐
해결: 리액트에서는 가상 DOM을 도입하여 실제 DOM의 추상화 계층을 만들었습니다. 
가상 DOM은 메모리 상에 존재하며, 변경 사항을 추적하고 최소한의 조작만을 수행하여 효율적인 렌더링을 가능케 했습니다.

<br/>
<br/>


## 동작 원리 (How it works)

가상 DOM의 비교와 업데이트 🔄
동작 원리: 렌더링 시 현재 상태의 가상 DOM을 생성하고, 이전 상태의 가상 DOM과 비교합니다. 변경된 부분만을 찾아 실제 DOM에 반영하여 전체 UI를 다시 그리지 않고 업데이트합니다.


1. 가상 DOM 업데이트: React는 상태가 변경되거나 컴포넌트가 렌더링될 때마다 새로운 가상 DOM을 생성합니다. 이 가상 DOM은 메모리 상에 존재합니다.

2. 가상 DOM 비교: React는 새로운 가상 DOM과 이전 가상 DOM을 비교하여 변경된 부분을 찾아냅니다.

3. 가상 DOM 업데이트: 변경된 부분은 메모리 상에서 업데이트됩니다. 이때에는 아직 실제 DOM에 변경 사항이 반영되지 않습니다.

4. Reconciliation (조화): React는 가상 DOM을 사용하여 변경된 부분에 대한 추가적인 최적화 및 비교 작업을 수행합니다.

5. 실제 DOM 업데이트: 최종적으로 변경된 부분만을 실제 DOM에 반영합니다. 이때에는 변경된 부분만을 실제로 조작하며, 
이러한 작업에서 발생하는 reflow와 repaint를 최소화합니다.




<br/>
<br/>

## 결과 (Results)
성능 개선과 빠른 렌더링 ⚡
결과: 가상 DOM을 통한 효율적인 업데이트로 성능이 향상되었습니다. 
변경된 부분만을 업데이트하므로 전체 UI를 다시 그릴 필요가 없어졌습니다. 
결과적으로 빠른 렌더링이 가능해졌습니다.

<br/>
<br/>



## virtualDom vs Dom 😄


가상 DOM은 최종적으로는 현실의 DOM에 반영되어야 하며, 이 과정에서 실제 DOM과의 비교를 통해 변경된 부분만을 업데이트합니다. 이 때 reflow와 repaint가 발생할 수 있습니다.

#### 가상 DOM을 사용하는 경우

Reflow 최소화: 변경된 부분만을 실제 DOM에 반영하므로 전체 페이지에 대한 reflow가 최소화됩니다.

Repaint 최소화: 변경된 부분만을 업데이트하므로 repaint가 전체 페이지에 영향을 주는 것보다 효율적으로 최소화됩니다.

일괄 처리: 가상 DOM은 변경 사항을 일괄적으로 처리하고 최적화할 수 있습니다.

#### 가상 DOM 없이 직접 조작하는 경우

Reflow 발생 가능성: 변경된 부분만을 고려하지 않고 직접적인 조작이 발생하면 해당 요소에 대한 reflow가 발생할 가능성이 있습니다.

Repaint 발생 가능성: 직접 조작하면 해당 요소에 대한 repaint가 발생할 가능성이 있습니다.

일부 조작으로 인한 성능 문제: 작은 부분의 변경도 전체 페이지를 다시 그려야 하는 경우가 발생할 수 있어 성능 문제가 발생할 수 있습니다.


가상 DOM은 변경 사항을 추상화된 메모리 내에서 일괄적으로 처리하므로 최적화가 가능합니다. 변경 사항을 실제 DOM에 반영할 때에도 최소한의 조작만을 수행하여 reflow와 repaint를 최소화합니다. 따라서 가상 DOM을 사용하면 변경 사항을 효율적으로 처리하면서 성능 향상을 이끌어낼 수 있습니다. 직접 조작하는 경우에는 이러한 최적화가 어려울 수 있으며, 작은 변경도 큰 영향을 미칠 수 있습니다.

<br/>
<br/>

## 요약 (Summary)
리액트의 가상 DOM은 마치 마법의 청사진처럼 작동하여 전체 UI를 다시 그리지 않고도 변경된 부분만을 업데이트합니다. 
이를 통해 성능이 향상되고, 개발자는 렌더링에 대해 더 효율적으로 제어할 수 있게 되었습니다. 생동감 있고 빠른 UI 업데이트를 경험할 수 있게 된 것이 리액트의 매력 중 하나입니다! 🚀
